{% extends "base.html" %}
{% block content %}
<h2 class="mb-3">Saisie des notes</h2>
<form method="POST">
  <div class="accordion" id="acc">
    {% for s in students %}
    <div class="accordion-item">
      <h2 class="accordion-header" id="h{{ s.id }}">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#c{{ s.id }}">
          {{ s.nom }} {{ s.prenoms }} - {{ s.classe }}
        </button>
      </h2>
      <div id="c{{ s.id }}" class="accordion-collapse collapse" data-bs-parent="#acc">
        <div class="accordion-body">
          <div class="row row-cols-2 row-cols-md-4 g-2">
            {% for m in matieres %}
              {% for t in trimestres %}
                <div>
                  <label class="form-label small">{{ m }} {{ t }}</label>
                  <input type="number" step="0.01" min="0" max="20"
                         name="{{ s.id }}_{{ m }}_{{ t }}"
                         value="{{ s.notes[m][t] or '' }}"
                         class="form-control form-control-sm">
                </div>
              {% endfor %}
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
  <div class="text-center mt-4">
    <button class="btn btn-primary"><i class="fas fa-save"></i> Enregistrer toutes les notes</button>
  </div>
</form>
{% endblock %}
